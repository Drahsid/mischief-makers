glabel func_800645F4
/* 651F4 800645F4 27BDFFE0 */  addiu      $sp, $sp, -0x20
/* 651F8 800645F8 AFB10018 */  sw         $s1, 0x18($sp)
/* 651FC 800645FC 3091FFFF */  andi       $s1, $a0, 0xffff
/* 65200 80064600 AFBF001C */  sw         $ra, 0x1c($sp)
/* 65204 80064604 AFA40020 */  sw         $a0, 0x20($sp)
/* 65208 80064608 AFB00014 */  sw         $s0, 0x14($sp)
/* 6520C 8006460C 0C00E325 */  jal        func_80038C94
/* 65210 80064610 3224FFFF */   andi      $a0, $s1, 0xffff
/* 65214 80064614 00117080 */  sll        $t6, $s1, 2
/* 65218 80064618 01D17023 */  subu       $t6, $t6, $s1
/* 6521C 8006461C 000E7080 */  sll        $t6, $t6, 2
/* 65220 80064620 01D17021 */  addu       $t6, $t6, $s1
/* 65224 80064624 000E7080 */  sll        $t6, $t6, 2
/* 65228 80064628 01D17023 */  subu       $t6, $t6, $s1
/* 6522C 8006462C 3C0F800F */  lui        $t7, %hi(D_800EF510)
/* 65230 80064630 25EFF510 */  addiu      $t7, $t7, %lo(D_800EF510)
/* 65234 80064634 000E70C0 */  sll        $t6, $t6, 3
/* 65238 80064638 01CF8021 */  addu       $s0, $t6, $t7
/* 6523C 8006463C 960200D0 */  lhu        $v0, 0xd0($s0)
/* 65240 80064640 24010001 */  addiu      $at, $zero, 1
/* 65244 80064644 10400005 */  beqz       $v0, .L8006465C
/* 65248 80064648 00000000 */   nop
/* 6524C 8006464C 10410012 */  beq        $v0, $at, .L80064698
/* 65250 80064650 00000000 */   nop
/* 65254 80064654 10000037 */  b          .L80064734
/* 65258 80064658 00000000 */   nop
.L8006465C:
/* 6525C 8006465C 0C00E387 */  jal        func_80038E1C
/* 65260 80064660 3224FFFF */   andi      $a0, $s1, 0xffff
/* 65264 80064664 961900D8 */  lhu        $t9, 0xd8($s0)
/* 65268 80064668 3C09800D */  lui        $t1, %hi(D_800D2504)
/* 6526C 8006466C 25292504 */  addiu      $t1, $t1, %lo(D_800D2504)
/* 65270 80064670 001940C0 */  sll        $t0, $t9, 3
/* 65274 80064674 01091021 */  addu       $v0, $t0, $t1
/* 65278 80064678 8C4A0000 */  lw         $t2, ($v0)
/* 6527C 8006467C 8C4B0004 */  lw         $t3, 4($v0)
/* 65280 80064680 448A2000 */  mtc1       $t2, $f4
/* 65284 80064684 448B4000 */  mtc1       $t3, $f8
/* 65288 80064688 468021A0 */  cvt.s.w    $f6, $f4
/* 6528C 8006468C 468042A0 */  cvt.s.w    $f10, $f8
/* 65290 80064690 E6060114 */  swc1       $f6, 0x114($s0)
/* 65294 80064694 E60A0140 */  swc1       $f10, 0x140($s0)
.L80064698:
/* 65298 80064698 0C00E1C1 */  jal        func_80038704
/* 6529C 8006469C 3224FFFF */   andi      $a0, $s1, 0xffff
/* 652A0 800646A0 444CF800 */  cfc1       $t4, $31
/* 652A4 800646A4 24050001 */  addiu      $a1, $zero, 1
/* 652A8 800646A8 44C5F800 */  ctc1       $a1, $31
/* 652AC 800646AC C6100114 */  lwc1       $f16, 0x114($s0)
/* 652B0 800646B0 3224FFFF */  andi       $a0, $s1, 0xffff
/* 652B4 800646B4 460084A4 */  cvt.w.s    $f18, $f16
/* 652B8 800646B8 3C014F00 */  lui        $at, 0x4f00
/* 652BC 800646BC 4445F800 */  cfc1       $a1, $31
/* 652C0 800646C0 00000000 */  nop
/* 652C4 800646C4 30A50078 */  andi       $a1, $a1, 0x78
/* 652C8 800646C8 10A00012 */  beqz       $a1, .L80064714
/* 652CC 800646CC 00000000 */   nop
/* 652D0 800646D0 44819000 */  mtc1       $at, $f18
/* 652D4 800646D4 24050001 */  addiu      $a1, $zero, 1
/* 652D8 800646D8 46128481 */  sub.s      $f18, $f16, $f18
/* 652DC 800646DC 3C018000 */  lui        $at, 0x8000
/* 652E0 800646E0 44C5F800 */  ctc1       $a1, $31
/* 652E4 800646E4 00000000 */  nop
/* 652E8 800646E8 460094A4 */  cvt.w.s    $f18, $f18
/* 652EC 800646EC 4445F800 */  cfc1       $a1, $31
/* 652F0 800646F0 00000000 */  nop
/* 652F4 800646F4 30A50078 */  andi       $a1, $a1, 0x78
/* 652F8 800646F8 14A00004 */  bnez       $a1, .L8006470C
/* 652FC 800646FC 00000000 */   nop
/* 65300 80064700 44059000 */  mfc1       $a1, $f18
/* 65304 80064704 10000007 */  b          .L80064724
/* 65308 80064708 00A12825 */   or        $a1, $a1, $at
.L8006470C:
/* 6530C 8006470C 10000005 */  b          .L80064724
/* 65310 80064710 2405FFFF */   addiu     $a1, $zero, -1
.L80064714:
/* 65314 80064714 44059000 */  mfc1       $a1, $f18
/* 65318 80064718 00000000 */  nop
/* 6531C 8006471C 04A0FFFB */  bltz       $a1, .L8006470C
/* 65320 80064720 00000000 */   nop
.L80064724:
/* 65324 80064724 44CCF800 */  ctc1       $t4, $31
/* 65328 80064728 30ADFFFF */  andi       $t5, $a1, 0xffff
/* 6532C 8006472C 0C00E21A */  jal        func_80038868
/* 65330 80064730 01A02825 */   or        $a1, $t5, $zero
.L80064734:
/* 65334 80064734 0C00E347 */  jal        func_80038D1C
/* 65338 80064738 3224FFFF */   andi      $a0, $s1, 0xffff
/* 6533C 8006473C 8E0E0080 */  lw         $t6, 0x80($s0)
/* 65340 80064740 8FBF001C */  lw         $ra, 0x1c($sp)
/* 65344 80064744 35CF0004 */  ori        $t7, $t6, 4
/* 65348 80064748 AE0F0080 */  sw         $t7, 0x80($s0)
/* 6534C 8006474C 8FB00014 */  lw         $s0, 0x14($sp)
/* 65350 80064750 8FB10018 */  lw         $s1, 0x18($sp)
/* 65354 80064754 03E00008 */  jr         $ra
/* 65358 80064758 27BD0020 */   addiu     $sp, $sp, 0x20
