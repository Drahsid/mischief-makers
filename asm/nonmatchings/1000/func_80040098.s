glabel func_80040098
/* 40C98 80040098 27BDFFA8 */  addiu      $sp, $sp, -0x58
/* 40C9C 8004009C AFB20038 */  sw         $s2, 0x38($sp)
/* 40CA0 800400A0 E7B4001C */  swc1       $f20, 0x1c($sp)
/* 40CA4 800400A4 3C014020 */  lui        $at, 0x4020
/* 40CA8 800400A8 3092FFFF */  andi       $s2, $a0, 0xffff
/* 40CAC 800400AC AFB10034 */  sw         $s1, 0x34($sp)
/* 40CB0 800400B0 4481A000 */  mtc1       $at, $f20
/* 40CB4 800400B4 AFBF0054 */  sw         $ra, 0x54($sp)
/* 40CB8 800400B8 AFBE0050 */  sw         $fp, 0x50($sp)
/* 40CBC 800400BC AFB7004C */  sw         $s7, 0x4c($sp)
/* 40CC0 800400C0 AFB60048 */  sw         $s6, 0x48($sp)
/* 40CC4 800400C4 AFB50044 */  sw         $s5, 0x44($sp)
/* 40CC8 800400C8 AFB40040 */  sw         $s4, 0x40($sp)
/* 40CCC 800400CC AFB3003C */  sw         $s3, 0x3c($sp)
/* 40CD0 800400D0 AFB00030 */  sw         $s0, 0x30($sp)
/* 40CD4 800400D4 E7B90028 */  swc1       $f25, 0x28($sp)
/* 40CD8 800400D8 E7B8002C */  swc1       $f24, 0x2c($sp)
/* 40CDC 800400DC E7B70020 */  swc1       $f23, 0x20($sp)
/* 40CE0 800400E0 E7B60024 */  swc1       $f22, 0x24($sp)
/* 40CE4 800400E4 E7B50018 */  swc1       $f21, 0x18($sp)
/* 40CE8 800400E8 AFA40058 */  sw         $a0, 0x58($sp)
/* 40CEC 800400EC AFA5005C */  sw         $a1, 0x5c($sp)
/* 40CF0 800400F0 AFA60060 */  sw         $a2, 0x60($sp)
/* 40CF4 800400F4 1A40003F */  blez       $s2, .L800401F4
/* 40CF8 800400F8 2411007F */   addiu     $s1, $zero, 0x7f
/* 40CFC 800400FC 04E10004 */  bgez       $a3, .L80040110
/* 40D00 80040100 00079C03 */   sra       $s3, $a3, 0x10
/* 40D04 80040104 3401FFFF */  ori        $at, $zero, 0xffff
/* 40D08 80040108 00270821 */  addu       $at, $at, $a3
/* 40D0C 8004010C 00019C03 */  sra        $s3, $at, 0x10
.L80040110:
/* 40D10 80040110 3C013F80 */  lui        $at, 0x3f80
/* 40D14 80040114 4481C000 */  mtc1       $at, $f24
/* 40D18 80040118 3C013FF0 */  lui        $at, 0x3ff0
/* 40D1C 8004011C 3C16800F */  lui        $s6, 0x800f
/* 40D20 80040120 3C15800D */  lui        $s5, %hi(D_800D2854)
/* 40D24 80040124 4481B800 */  mtc1       $at, $f23
/* 40D28 80040128 4480B000 */  mtc1       $zero, $f22
/* 40D2C 8004012C 87B4006A */  lh         $s4, 0x6a($sp)
/* 40D30 80040130 26B52854 */  addiu      $s5, $s5, %lo(D_800D2854)
/* 40D34 80040134 26D6F510 */  addiu      $s6, $s6, -0xaf0
/* 40D38 80040138 241E0209 */  addiu      $fp, $zero, 0x209
/* 40D3C 8004013C 24170198 */  addiu      $s7, $zero, 0x198
.L80040140:
/* 40D40 80040140 0C0005E3 */  jal        func_8000178C
/* 40D44 80040144 00000000 */   nop
/* 40D48 80040148 304E0003 */  andi       $t6, $v0, 3
/* 40D4C 8004014C 000E7840 */  sll        $t7, $t6, 1
/* 40D50 80040150 02AFC021 */  addu       $t8, $s5, $t7
/* 40D54 80040154 97040000 */  lhu        $a0, ($t8)
/* 40D58 80040158 00002825 */  or         $a1, $zero, $zero
/* 40D5C 8004015C 00003025 */  or         $a2, $zero, $zero
/* 40D60 80040160 0C00C4A1 */  jal        func_80031284
/* 40D64 80040164 02603825 */   or        $a3, $s3, $zero
/* 40D68 80040168 10400022 */  beqz       $v0, .L800401F4
/* 40D6C 8004016C 3044FFFF */   andi      $a0, $v0, 0xffff
/* 40D70 80040170 00970019 */  multu      $a0, $s7
/* 40D74 80040174 24080003 */  addiu      $t0, $zero, 3
/* 40D78 80040178 3225FFFF */  andi       $a1, $s1, 0xffff
/* 40D7C 8004017C 0000C812 */  mflo       $t9
/* 40D80 80040180 02D98021 */  addu       $s0, $s6, $t9
/* 40D84 80040184 A61E0094 */  sh         $fp, 0x94($s0)
/* 40D88 80040188 0C00ABAD */  jal        func_8002AEB4
/* 40D8C 8004018C AE080080 */   sw        $t0, 0x80($s0)
/* 40D90 80040190 3C098022 */  lui        $t1, 0x8022
/* 40D94 80040194 3529D548 */  ori        $t1, $t1, 0xd548
/* 40D98 80040198 240AFFC0 */  addiu      $t2, $zero, -0x40
/* 40D9C 8004019C E6180148 */  swc1       $f24, 0x148($s0)
/* 40DA0 800401A0 AE09018C */  sw         $t1, 0x18c($s0)
/* 40DA4 800401A4 0C0005E3 */  jal        func_8000178C
/* 40DA8 800401A8 AE0A0154 */   sw        $t2, 0x154($s0)
/* 40DAC 800401AC 304B003F */  andi       $t3, $v0, 0x3f
/* 40DB0 800401B0 000B6080 */  sll        $t4, $t3, 2
/* 40DB4 800401B4 028CA023 */  subu       $s4, $s4, $t4
/* 40DB8 800401B8 26940080 */  addiu      $s4, $s4, 0x80
/* 40DBC 800401BC 2652FFFF */  addiu      $s2, $s2, -1
/* 40DC0 800401C0 00146C00 */  sll        $t5, $s4, 0x10
/* 40DC4 800401C4 4600A121 */  cvt.d.s    $f4, $f20
/* 40DC8 800401C8 2631FFF0 */  addiu      $s1, $s1, -0x10
/* 40DCC 800401CC 46362181 */  sub.d      $f6, $f4, $f22
/* 40DD0 800401D0 3258FFFF */  andi       $t8, $s2, 0xffff
/* 40DD4 800401D4 000D7403 */  sra        $t6, $t5, 0x10
/* 40DD8 800401D8 322FFFFF */  andi       $t7, $s1, 0xffff
/* 40DDC 800401DC 03009025 */  or         $s2, $t8, $zero
/* 40DE0 800401E0 01C0A025 */  or         $s4, $t6, $zero
/* 40DE4 800401E4 46203520 */  cvt.s.d    $f20, $f6
/* 40DE8 800401E8 1F00FFD5 */  bgtz       $t8, .L80040140
/* 40DEC 800401EC 01E08825 */   or        $s1, $t7, $zero
/* 40DF0 800401F0 A7AE006A */  sh         $t6, 0x6a($sp)
.L800401F4:
/* 40DF4 800401F4 8FBF0054 */  lw         $ra, 0x54($sp)
/* 40DF8 800401F8 C7B50018 */  lwc1       $f21, 0x18($sp)
/* 40DFC 800401FC C7B4001C */  lwc1       $f20, 0x1c($sp)
/* 40E00 80040200 C7B70020 */  lwc1       $f23, 0x20($sp)
/* 40E04 80040204 C7B60024 */  lwc1       $f22, 0x24($sp)
/* 40E08 80040208 C7B90028 */  lwc1       $f25, 0x28($sp)
/* 40E0C 8004020C C7B8002C */  lwc1       $f24, 0x2c($sp)
/* 40E10 80040210 8FB00030 */  lw         $s0, 0x30($sp)
/* 40E14 80040214 8FB10034 */  lw         $s1, 0x34($sp)
/* 40E18 80040218 8FB20038 */  lw         $s2, 0x38($sp)
/* 40E1C 8004021C 8FB3003C */  lw         $s3, 0x3c($sp)
/* 40E20 80040220 8FB40040 */  lw         $s4, 0x40($sp)
/* 40E24 80040224 8FB50044 */  lw         $s5, 0x44($sp)
/* 40E28 80040228 8FB60048 */  lw         $s6, 0x48($sp)
/* 40E2C 8004022C 8FB7004C */  lw         $s7, 0x4c($sp)
/* 40E30 80040230 8FBE0050 */  lw         $fp, 0x50($sp)
/* 40E34 80040234 03E00008 */  jr         $ra
/* 40E38 80040238 27BD0058 */   addiu     $sp, $sp, 0x58
